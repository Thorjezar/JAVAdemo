package com.ywm.demo;import java.util.Scanner;/** * Create by YWM on 2019/4/8. */public class Book {    public static void main(String[] args){        // 初始化图书        String[] bookName = {"水浒传","西游记","红楼梦","金瓶梅"};        String[] state = {"可借","可借","可借","可借"};        int[] count = {0,0,0,0};        Scanner scanner = new Scanner(System.in);        int num = 0;        do {            System.out.println("欢迎使用图书借阅系统");            System.out.println("------------------------");            System.out.println("1.查看图书");            System.out.println("2.新增图书");            System.out.println("3.删除图书");            System.out.println("4.借阅图书");            System.out.println("5.归还图书");            System.out.println("6.退出系统");            System.out.println("------------------------");            System.out.print("请选择：");            num = scanner.nextInt();//        System.out.print(num);            switch(num){                case 1:                    System.out.println("====>查看图书");                    System.out.println("序号\t名称\t\t状态\t\t借出次数");                    for (int i = 1;i <= bookName.length; i++){                        System.out.print(i);                        System.out.print("\t\t"+bookName[i-1]);                        System.out.print("\t\t"+state[i-1]);                        System.out.println("\t\t"+count[i-1]);                    }                    break;                case 2:                    System.out.println("====>新增图书");                    //判断数组中是否有位置存放新书                    if(bookName[bookName.length-1]==null){                        System.out.print("请输入书名：");                        String name = scanner.next();                        //检测数组中是否已经存在                     int index = Arrays.binarySearch(bookName,name); //自己写的工具类                     System.out.println(index);                        //默认书名不存在                        boolean flag = false;                        for (String bookNames:bookName                             ) {                            if (name.equals(bookNames)){                                flag = true;                                break;                            }                        }                        if(flag){                            System.out.println("<<"+name+">>已存在，请勿重复填加！");                        }else{                            //加入到第一个null的位置                            for (int i = 0;i < bookName.length; i++){                                if(bookName[i] == null){                                    bookName[i] = name;                                    break;                                }                            }//                             bookName[bookName.length-1] = name;//                             state[state.length-1] = "可借";//                             count[count.length-1] = 0;                            System.out.println(name+"填加成功！");                        }                    }else {                        System.out.println("书架已满！！！");                    }                    break;                case 3:                    System.out.println("====>删除图书");                    //检测书架bookName是否为空                    boolean flag = false;                    for(String deleteBook:bookName){                        if (deleteBook != null){                            flag = true;                            break;                        }                    }                    if(flag){                        // 检测用户输入的是否在书架中                        System.out.print("请输入要删除的图书名称：");                        String deleteName = scanner.next();                        boolean flag2 = false;                        for (String bookNames:bookName                        ) {                            if (deleteName.equals(bookNames)){                                flag2 = true;                                break;                            }                        }                        if(flag2){                             //找到被删除的书在数组的下标                            int index = 0;                            for (int i = 0;i < bookName.length; i++){                                if(deleteName.equals(bookName[i])){                                    index = i;                                    break; //优化内存                                }                            }                            //index之后的数据向前                            for (int j = index;j < bookName.length-1; j++){                                    bookName[j] = bookName[j+1];                            }                            //将最后一个位置置位null//                            if (!bookName[bookName.length - 1].equals(null)){                                bookName[bookName.length-1] = null;//                            }                        }else{                            System.out.println("<<"+deleteName+">>不已存在，请确认！");                        }                    }else{                        System.out.println("书架已空，没有可以删除的书籍！");                    }                    break;                case 4:                    System.out.println("====>借阅图书");                    //检测书架bookName是否为空                    boolean flag3 = false;                    for(String deleteBook:bookName){                        if (deleteBook != null){                            flag3 = true;                            break;                        }                    }                    if(flag3){                        System.out.print("请输入要借阅的图书名称：");                        String borrowName = scanner.next();                        boolean flag2 = false;                        for (String bookNames:bookName                        ) {                            if (borrowName.equals(bookNames)){                                flag2 = true;                                break;                            }                        }                        if(flag2){                            //将图书对应的状态改为已借出                            //将图书对应的数量++                            int index2 = 0;                            for(int k = 0;k < bookName.length; k++){                                if(borrowName.equals(bookName[k])){                                    index2 = k;                                    break;                                }                            }//                            String[][] stateCount = {{state.toString()},{count.toString()}};//                            stateCount[0][index2] = "已借阅";//                            stateCount[1][index2] = "1";                            if (state[index2].equals("已借出")){                                System.out.println("<<"+borrowName+">>已经被借出！请选择其他书籍");                            }                            else{                                state[index2] = "已借出";                                count[index2]++;                                System.out.println("<<"+borrowName+">>借阅成功！");                            }                        }else{                            System.out.println("<<"+borrowName+">>不已存在，请确认！");                        }                    }else{                        System.out.println("书架已空，没有可以借阅的书籍！");                    }                    break;                case 5:                    System.out.println("====>归还图书");                    System.out.print("请输入要归还的图书名称：");                    String returnName = scanner.next();                    boolean flag2 = false;                    for (String bookNames:bookName                    ) {                        if (returnName.equals(bookNames)){                            flag2 = true;                            break;                        }                    }                    if(flag2){                        int index2 = 0;                        for(int k = 0;k < bookName.length; k++){                            if(returnName.equals(bookName[k])){                                index2 = k;                                break;                            }                        }                        if(state[index2].equals("可借")){                            System.out.println("<<"+returnName+">>已经归还！");                        }else{                            state[index2] = "可借";//                            count[index2]--;                            System.out.println("<<"+returnName+">>归还成功！");                        }                    }else{                        System.out.println("<<"+returnName+">>不已存在，请确认！");                    }                    break;                case 6:                    System.out.println("退出系统");//                  break;                    return;            }            System.out.print("输入0返回:");            num = scanner.nextInt();            while(num!=0){                System.out.print("输入0返回:");                num = scanner.nextInt();            }        }while(num == 0);    }}